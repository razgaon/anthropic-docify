# Memory

## Overview

Memory is a key component of conversational AI systems. It allows the system to track context and refer back to previous parts of the conversation. LangChain provides utilities for incorporating memory into chains and models.

At a high level, memory in LangChain involves:

- Storing conversation history
- Making that history available to chains/models during execution
- Saving new messages after each run

## How Memory Works

A memory system needs to support two basic actions: reading and writing. Chains will interact with memory in each run:

1. BEFORE executing logic, the chain will READ from memory to augment user inputs.
2. AFTER executing logic, the chain will WRITE inputs and outputs to memory for future runs.

There are two core design decisions:

- How state is stored (e.g. list of chat messages)
- How state is queried (e.g. return recent messages)

## ConversationBufferMemory

ConversationBufferMemory is a simple memory that stores a list of chat messages in a buffer and passes those into the prompt.

For example:

```python
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory()
memory.save_context({"input": "hi"}, {"output": "hello"})
```

The messages can be returned as a string or list of ChatMessages.

## Memory Concepts

When using memory in a chain, key concepts include:

- **Memory Variables** - Names of variables returned to the chain
- **Message Format** - String vs list of ChatMessages
- **Input/Output Keys** - Keys to save from chain I/O

For examples of configuring these concepts, see the [configuration guide](link/to/config/guide).

## Advanced Usage

LangChain supports advanced memory techniques like:

- [Multiple memories](link/to/multiple/memories/guide) - Short + long term
- [Custom memory](link/to/custom/memory/guide) - For specialized use cases
- [Entity memory](link/to/entity/memory) - Tracking entities

## Conclusion

Memory is vital for conversational AI. LangChain provides building blocks to easily incorporate memory. Follow best practices to ensure effective memory usage. See the [full docs](link/to/full/docs) for more details.
